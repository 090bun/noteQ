(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[791],{1191:e=>{e.exports={decryptedText:"DecryptedText_decryptedText__cgfDh",glitchBackground:"DecryptedText_glitchBackground__2t_IE",glitchLine:"DecryptedText_glitchLine___o0Gt",glitchChar:"DecryptedText_glitchChar__eq_oE",textContainer:"DecryptedText_textContainer__mp8fd",mainText:"DecryptedText_mainText__rW3nv",scrambleText:"DecryptedText_scrambleText__nrsVv",complete:"DecryptedText_complete__Oecfi",loading:"DecryptedText_loading__7z92I",pulse:"DecryptedText_pulse__j3WfE"}},1283:(e,t,o)=>{"use strict";o.d(t,{A:()=>l});var n=o(5155),s=o(2115),a=o(1191),c=o.n(a);let l=e=>{let{text:t,onComplete:o,speed:a=100,scrambleSpeed:l=200,className:r=""}=e,[i,d]=(0,s.useState)(""),[m,u]=(0,s.useState)(!1),[h,w]=(0,s.useState)(""),p=(0,s.useRef)(null),C=(0,s.useRef)(null),f="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()_+-=[]{}|;:,.<>?",g=()=>{let e="";for(let o=0;o<t.length;o++)e+=f[Math.floor(Math.random()*f.length)];return e};return(0,s.useEffect)(()=>{t&&(d(""),u(!1))},[t]),(0,s.useEffect)(()=>(w(g()),C.current=setInterval(()=>{w(g())},l),()=>{C.current&&clearInterval(C.current)}),[]),(0,s.useEffect)(()=>{if(!t)return;let e=0;return p.current=setInterval(()=>{e<=t.length?(d(t.substring(0,e)),e++):(clearInterval(p.current),u(!0),null==o||o())},a),()=>{p.current&&clearInterval(p.current)}},[t,a,o]),(0,n.jsxs)("div",{className:"".concat(c().decryptedText," ").concat(r),children:[(0,n.jsx)("div",{className:c().glitchBackground,children:Array.from({length:20},(e,t)=>(0,n.jsx)("div",{className:c().glitchLine,children:Array.from({length:40},(e,t)=>(0,n.jsx)("span",{className:c().glitchChar,style:{"--char-index":t},children:f[Math.floor(Math.random()*f.length)]},t))},t))}),(0,n.jsx)("div",{className:c().textContainer,children:t.split("").map((e,t)=>{let o=t<i.length;return(0,n.jsx)("span",{className:o?c().mainText:c().scrambleText,children:o?e:h[t]||" "},t)})}),!m]})}},4247:(e,t,o)=>{"use strict";o.r(t),o.d(t,{closeCustomConfirm:()=>s,safeConfirm:()=>a,showCustomConfirm:()=>n});let n=(e,t,o)=>{let n=document.createElement("div");n.className="custom-confirm-modal",n.innerHTML='\n        <div class="custom-confirm-content">\n            <div class="custom-confirm-message">'.concat(e,'</div>\n            <div class="custom-confirm-buttons">\n                <button class="custom-confirm-btn custom-confirm-cancel" onclick="closeCustomConfirm(false)">取消</button>\n                <button class="custom-confirm-btn custom-confirm-ok" onclick="closeCustomConfirm(true)">確定</button>\n            </div>\n        </div>\n    '),document.body.appendChild(n),window.customConfirmCallbacks={onConfirm:t,onCancel:o},document.body.style.overflow="hidden",setTimeout(()=>{n.classList.add("active")},10)},s=e=>{let t=document.querySelector(".custom-confirm-modal");t&&(t.classList.remove("active"),setTimeout(()=>{document.body.removeChild(t),document.body.style.overflow="auto",window.customConfirmCallbacks&&(e&&window.customConfirmCallbacks.onConfirm?window.customConfirmCallbacks.onConfirm():!e&&window.customConfirmCallbacks.onCancel&&window.customConfirmCallbacks.onCancel(),window.customConfirmCallbacks=null)},300))},a=(e,t,o)=>{n(e,t,o)}},4740:(e,t,o)=>{"use strict";o.r(t),o.d(t,{closePasswordChangeDialog:()=>s,confirmPasswordChange:()=>a,showPasswordChangeDialog:()=>n});let n=e=>{let t=document.createElement("div");t.className="custom-prompt-modal",t.innerHTML='\n        <div class="custom-prompt-content">\n            <div class="custom-prompt-title">更改密碼</div>\n            <div class="password-input-group">\n                <label for="oldPasswordInput">舊密碼：</label>\n                <input type="password" class="custom-prompt-input" id="oldPasswordInput" placeholder="請輸入舊密碼">\n            </div>\n            <div class="password-input-group">\n                <label for="newPasswordInput">新密碼：</label>\n                <input type="password" class="custom-prompt-input" id="newPasswordInput" placeholder="請輸入新密碼">\n            </div>\n            <div class="custom-prompt-buttons">\n                <button class="custom-prompt-btn custom-prompt-btn-secondary" onclick="closePasswordChangeDialog()">取消</button>\n                <button class="custom-prompt-btn custom-prompt-btn-primary" onclick="confirmPasswordChange()">確定</button>\n            </div>\n        </div>\n    ',document.body.appendChild(t),window.passwordChangeCallback=e,document.body.style.overflow="hidden",setTimeout(()=>{t.classList.add("active");let e=document.getElementById("oldPasswordInput");e&&e.focus()},10)},s=()=>{let e=document.querySelector(".custom-prompt-modal");e&&(e.classList.remove("active"),setTimeout(()=>{document.body.removeChild(e),document.body.style.overflow="auto",window.passwordChangeCallback&&(window.passwordChangeCallback(null,null),window.passwordChangeCallback=null)},300))},a=()=>{let e=document.getElementById("oldPasswordInput"),t=document.getElementById("newPasswordInput"),o=e?e.value.trim():"",n=t?t.value.trim():"",s=document.querySelector(".custom-prompt-modal");s&&(s.classList.remove("active"),setTimeout(()=>{document.body.removeChild(s),document.body.style.overflow="auto",window.passwordChangeCallback&&(window.passwordChangeCallback(o,n),window.passwordChangeCallback=null)},300))}},5445:(e,t,o)=>{"use strict";o.r(t),o.d(t,{closeCustomAlert:()=>s,safeAlert:()=>a,showCustomAlert:()=>n});let n=(e,t)=>{let o=document.createElement("div");o.className="custom-alert-modal",o.innerHTML='\n        <div class="custom-alert-content">\n            <div class="custom-alert-message">'.concat(e,'</div>\n            <button class="custom-alert-btn" onclick="closeCustomAlert()">確定</button>\n        </div>\n    '),document.body.appendChild(o),window.customAlertCallback=t,document.body.style.overflow="hidden",setTimeout(()=>{o.classList.add("active")},10)},s=()=>{let e=document.querySelector(".custom-alert-modal");e&&(e.classList.remove("active"),setTimeout(()=>{document.body.removeChild(e),document.body.style.overflow="auto",window.customAlertCallback&&(window.customAlertCallback(),window.customAlertCallback=null)},300))},a=(e,t)=>{n(e,t)}},5731:(e,t,o)=>{"use strict";o.d(t,{Py:()=>a});var n=o(3464);let s=o(9509).env.NEXT_PUBLIC_API_ORIGIN||"/api",a="".concat(s),c=n.A.create({baseURL:a,withCredentials:!0}),l=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.startsWith("/")?"".concat(a).concat(e):"".concat(a,"/").concat(e),n=await fetch(o,{...t,credentials:"include"});if(!n.ok)throw Error("API Error: ".concat(n.status));return n.json()};try{l[Symbol.toPrimitive]=()=>a,l.toString=()=>a,l.valueOf=()=>a}catch(e){}try{c[Symbol.toPrimitive]=()=>a,c.toString=()=>a,c.valueOf=()=>a}catch(e){}},6153:(e,t,o)=>{"use strict";o.d(t,{A:()=>l});var n=o(5155),s=o(6874),a=o.n(s),c=o(6766);function l(e){let{showMenu:t=!1,isMenuOpen:o=!1,onToggleMenu:s=null,showAuthNav:l=!1,enableNoteQLink:r=!1}=e;return(0,n.jsx)("section",{id:"header",children:(0,n.jsx)("header",{className:"site-header",children:(0,n.jsxs)("div",{className:"container header-container",children:[r?(0,n.jsx)(a(),{href:"/homegame",className:"brand-name",style:{textDecoration:"none",color:"inherit"},children:"NoteQ"}):(0,n.jsx)("div",{className:"brand-name",children:"NoteQ"}),l&&(0,n.jsxs)("nav",{className:"auth-nav",children:[(0,n.jsx)(a(),{href:"/login?signup=1",className:"btn-signup",children:"Sign up"}),(0,n.jsx)(a(),{href:"/login",className:"btn-login",children:"Login"})]}),t&&(0,n.jsx)("button",{className:"menu-button ".concat(o?"active":""),"aria-label":"Toggle menu",onClick:s,children:(0,n.jsx)(c.default,{src:"/img/Vector-18.png",alt:"Menu Icon",width:24,height:24})})]})})})}},6349:(e,t,o)=>{"use strict";o.d(t,{I:()=>s});var n=o(9057);let s=()=>{(0,n.gB)("確定要登出嗎？",()=>{localStorage.clear(),sessionStorage.clear(),window.location.href="/"},()=>{})}},7771:(e,t,o)=>{"use strict";o.d(t,{A:()=>i});var n=o(5155),s=o(6874),a=o.n(s),c=o(6766),l=o(5695),r=o(6349);function i(e){let{isOpen:t=!1,onClose:o=null}=e,s=(0,l.usePathname)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"menu-backdrop ".concat(t?"active":""),onClick:o}),(0,n.jsxs)("div",{className:"menu-dropdown ".concat(t?"active":""),children:[(0,n.jsx)("div",{className:"menu-header"}),[{href:"/homegame",icon:"/img/Vector-16.png",label:"首頁"},{href:"/note",icon:"/img/Vector-15.png",label:"筆記"},{href:"/user",icon:"/img/Vector-33.png",label:"使用者"}].map(e=>(0,n.jsxs)(a(),{href:e.href,className:"menu-item ".concat(s===e.href?"active":""),children:[(0,n.jsx)(c.default,{src:e.icon,alt:"",className:"menu-item-icon",width:24,height:24}),(0,n.jsx)("span",{children:e.label})]},e.href)),(0,n.jsxs)("button",{className:"menu-item logout-button",onClick:r.I,style:{background:"none",border:"none",cursor:"pointer"},children:[(0,n.jsx)(c.default,{src:"/img/Vector-30.png",alt:"",className:"menu-item-icon",width:24,height:24}),(0,n.jsx)("span",{children:"登出"})]})]})]})}},9057:(e,t,o)=>{"use strict";o.d(t,{S5:()=>n.safeAlert,gB:()=>s.safeConfirm,bF:()=>a.showPasswordChangeDialog});var n=o(5445),s=o(4247),a=o(4740);Promise.resolve().then(o.bind(o,5445)).then(e=>{window.showCustomAlert=e.showCustomAlert,window.closeCustomAlert=e.closeCustomAlert,window.safeAlert=e.safeAlert}),Promise.resolve().then(o.bind(o,4247)).then(e=>{window.showCustomConfirm=e.showCustomConfirm,window.closeCustomConfirm=e.closeCustomConfirm,window.safeConfirm=e.safeConfirm}),o.e(11).then(o.bind(o,11)).then(e=>{window.showCustomPrompt=e.showCustomPrompt,window.closeCustomPrompt=e.closeCustomPrompt,window.confirmCustomPrompt=e.confirmCustomPrompt}),Promise.resolve().then(o.bind(o,4740)).then(e=>{window.showPasswordChangeDialog=e.showPasswordChangeDialog,window.closePasswordChangeDialog=e.closePasswordChangeDialog,window.confirmPasswordChange=e.confirmPasswordChange})}}]);